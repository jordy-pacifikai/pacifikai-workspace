<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur ROI | PACIFIK'AI</title>
    <meta name="description" content="Estimez les economies que l'automatisation IA peut apporter a votre entreprise en Polynesie francaise. Calculateur gratuit par PACIFIK'AI.">

    <link rel="canonical" href="https://pacifikai.com/calculateur-roi">
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    <link rel="apple-touch-icon" href="/assets/favicon.png">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="PACIFIK'AI">
    <meta property="og:title" content="Calculateur ROI Automatisation IA | PACIFIK'AI">
    <meta property="og:description" content="Estimez les economies que l'automatisation IA peut apporter a votre entreprise polynesienne.">
    <meta property="og:url" content="https://pacifikai.com/calculateur-roi">
    <meta property="og:image" content="https://pacifikai.com/assets/og-image.png">
    <meta property="og:locale" content="fr_FR">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #0a0a12;
            --bg-card: #0f1020;
            --bg-card-hover: #151630;
            --border: #1a1a2e;
            --border-light: #252540;
            --text: #ffffff;
            --text-secondary: #8888aa;
            --text-dim: #555570;
            --accent: #3b82f6;
            --accent-glow: rgba(59, 130, 246, 0.4);
            --accent-soft: rgba(59, 130, 246, 0.1);
            --green: #22c55e;
            --green-glow: rgba(34, 197, 94, 0.3);
            --amber: #f59e0b;
            --red: #ef4444;
            --font: 'Plus Jakarta Sans', -apple-system, sans-serif;
            --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
            --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font);
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        ::selection {
            background: var(--accent);
            color: var(--bg);
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .bg-grid {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(ellipse 80% 50% at 50% 0%, black 40%, transparent 100%);
        }

        .orb-parallax {
            position: absolute;
            will-change: transform;
        }
        .floating-orb {
            position: relative;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.15;
            animation: orbFloat 20s ease-in-out infinite;
        }

        .orb-wrap-1 { top: -200px; left: 10%; }
        .orb-wrap-2 { top: 40%; right: -100px; }
        .orb-1 {
            width: 500px;
            height: 500px;
            background: var(--accent);
        }
        .orb-2 {
            width: 400px;
            height: 400px;
            background: #f59e0b;
            animation-delay: -7s;
        }

        @keyframes orbFloat {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(30px, -30px) scale(1.05); }
            50% { transform: translate(-20px, 20px) scale(0.95); }
            75% { transform: translate(20px, 10px) scale(1.02); }
        }

        /* Nav */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        .logo {
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo-img {
            height: 42px;
            width: auto;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.1));
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-links a {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        .nav-cta {
            padding: 0.6rem 1.2rem;
            background: var(--text);
            color: var(--bg);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .nav-cta:hover {
            background: var(--accent);
            color: var(--text);
        }

        /* Content */
        nav, main, footer {
            position: relative;
            z-index: 1;
        }

        /* Page Header */
        .page-header {
            padding: 8rem 2rem 3rem;
            text-align: center;
            position: relative;
        }

        .page-header-glow {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 400px;
            background: radial-gradient(ellipse at center, var(--accent-glow) 0%, transparent 60%);
            opacity: 0.2;
            pointer-events: none;
        }

        .page-header h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
            position: relative;
            opacity: 0;
            animation: fadeUp 0.8s var(--ease-out-expo) forwards;
        }

        .page-header h1 .highlight {
            color: var(--accent);
        }

        .page-header p {
            font-size: 1.05rem;
            color: var(--text-secondary);
            max-width: 550px;
            margin: 0 auto;
            position: relative;
            opacity: 0;
            animation: fadeUp 0.8s var(--ease-out-expo) 0.2s forwards;
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Wizard Container */
        .wizard-container {
            max-width: 680px;
            margin: 0 auto 4rem;
            padding: 0 1.5rem;
            position: relative;
        }

        /* Progress Bar */
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2.5rem;
            opacity: 0;
            animation: fadeUp 0.6s var(--ease-out-expo) 0.4s forwards;
        }

        .progress-step {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-dim);
            transition: all 0.4s var(--ease-spring);
            position: relative;
        }

        .progress-step.active {
            border-color: var(--accent);
            color: var(--accent);
            background: var(--accent-soft);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .progress-step.completed {
            border-color: var(--green);
            background: rgba(34, 197, 94, 0.15);
            color: var(--green);
        }

        .progress-step.completed::after {
            content: '';
            display: block;
            width: 10px;
            height: 6px;
            border-left: 2px solid var(--green);
            border-bottom: 2px solid var(--green);
            transform: rotate(-45deg);
            margin-top: -2px;
        }

        .progress-step.completed span {
            display: none;
        }

        .progress-line {
            width: 40px;
            height: 2px;
            background: var(--border);
            border-radius: 1px;
            transition: background 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-line.completed {
            background: var(--green);
        }

        .progress-line.active::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 50%;
            background: var(--accent);
            border-radius: 1px;
            animation: progressPulse 1.5s ease-in-out infinite;
        }

        @keyframes progressPulse {
            0%, 100% { width: 30%; }
            50% { width: 70%; }
        }

        /* Step Cards */
        .wizard-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
        }

        .wizard-card::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.6;
        }

        .step-container {
            display: none;
            opacity: 0;
            transform: translateX(30px);
        }

        .step-container.active {
            display: block;
            animation: slideIn 0.5s var(--ease-out-expo) forwards;
        }

        .step-container.slide-out-left {
            display: block;
            animation: slideOutLeft 0.3s ease forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideOutLeft {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(-30px); }
        }

        .step-label {
            font-size: 0.75rem;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .step-title {
            font-size: 1.35rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        /* Form Controls */
        .select-group {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
        }

        .select-option {
            padding: 0.9rem 1.2rem;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.25s var(--ease-out-expo);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            position: relative;
        }

        .select-option:hover {
            border-color: var(--border-light);
            background: var(--bg-card-hover);
            color: var(--text);
        }

        .select-option.selected {
            border-color: var(--accent);
            background: var(--accent-soft);
            color: var(--text);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.1);
        }

        .select-option .radio-dot {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-light);
            border-radius: 50%;
            flex-shrink: 0;
            transition: all 0.25s var(--ease-spring);
            position: relative;
        }

        .select-option.selected .radio-dot {
            border-color: var(--accent);
        }

        .select-option.selected .radio-dot::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            animation: dotPop 0.3s var(--ease-spring) forwards;
        }

        @keyframes dotPop {
            to { transform: translate(-50%, -50%) scale(1); }
        }

        /* Multi-select (checkbox) */
        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.6rem;
        }

        .checkbox-option {
            padding: 0.8rem 1rem;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.25s var(--ease-out-expo);
            display: flex;
            align-items: center;
            gap: 0.65rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .checkbox-option:hover {
            border-color: var(--border-light);
            background: var(--bg-card-hover);
            color: var(--text);
        }

        .checkbox-option.selected {
            border-color: var(--accent);
            background: var(--accent-soft);
            color: var(--text);
        }

        .check-box {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-light);
            border-radius: 5px;
            flex-shrink: 0;
            transition: all 0.25s var(--ease-spring);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkbox-option.selected .check-box {
            border-color: var(--accent);
            background: var(--accent);
        }

        .checkbox-option.selected .check-box::after {
            content: '';
            width: 6px;
            height: 10px;
            border-right: 2px solid white;
            border-bottom: 2px solid white;
            transform: rotate(45deg) scale(0);
            animation: checkPop 0.3s var(--ease-spring) forwards;
            margin-top: -2px;
        }

        @keyframes checkPop {
            to { transform: rotate(45deg) scale(1); }
        }

        /* Navigation Buttons */
        .wizard-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }

        .btn-wizard-back {
            padding: 0.7rem 1.2rem;
            background: transparent;
            border: 1px solid var(--border-light);
            color: var(--text-secondary);
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            font-family: var(--font);
            transition: all 0.2s;
        }

        .btn-wizard-back:hover {
            border-color: var(--text-secondary);
            color: var(--text);
        }

        .btn-wizard-next {
            padding: 0.75rem 1.5rem;
            background: var(--accent);
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: var(--font);
            transition: all 0.3s var(--ease-spring);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-wizard-next:hover {
            box-shadow: 0 0 30px var(--accent-glow);
            transform: translateY(-2px);
        }

        .btn-wizard-next:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-wizard-next svg {
            width: 16px;
            height: 16px;
            transition: transform 0.2s;
        }

        .btn-wizard-next:hover svg {
            transform: translateX(3px);
        }

        /* ============================== */
        /* RESULTS PAGE                   */
        /* ============================== */
        .results-container {
            display: none;
        }

        .results-container.active {
            display: block;
            animation: fadeUp 0.8s var(--ease-out-expo) forwards;
        }

        .results-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .results-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .results-header p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Metric Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
        }

        .metric-card.visible {
            animation: metricAppear 0.6s var(--ease-out-expo) forwards;
        }

        .metric-card:nth-child(1).visible { animation-delay: 0s; }
        .metric-card:nth-child(2).visible { animation-delay: 0.15s; }
        .metric-card:nth-child(3).visible { animation-delay: 0.3s; }

        @keyframes metricAppear {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 1s var(--ease-out-expo);
        }

        .metric-card.visible::before {
            transform: scaleX(1);
        }

        .metric-card.green::before {
            background: var(--green);
        }

        .metric-card.amber::before {
            background: var(--amber);
        }

        .metric-icon {
            width: 44px;
            height: 44px;
            margin: 0 auto 1rem;
            background: var(--accent-soft);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .metric-icon svg {
            width: 22px;
            height: 22px;
            stroke: var(--accent);
        }

        .metric-icon.green {
            background: rgba(34, 197, 94, 0.1);
        }

        .metric-icon.green svg {
            stroke: var(--green);
        }

        .metric-icon.amber {
            background: rgba(245, 158, 11, 0.1);
        }

        .metric-icon.amber svg {
            stroke: var(--amber);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.35rem;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--accent);
            line-height: 1.1;
            margin-bottom: 0.25rem;
        }

        .metric-value.green {
            color: var(--green);
        }

        .metric-value.amber {
            color: var(--amber);
        }

        .metric-unit {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Progress Bars in Results */
        .metric-progress {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            margin-top: 0.75rem;
            overflow: hidden;
        }

        .metric-progress-fill {
            height: 100%;
            border-radius: 3px;
            width: 0;
            transition: width 1.5s var(--ease-out-expo);
        }

        .metric-progress-fill.blue { background: var(--accent); }
        .metric-progress-fill.green { background: var(--green); }
        .metric-progress-fill.amber { background: var(--amber); }
        .metric-progress-fill.red { background: var(--red); }

        .metric-card.red::before { background: var(--red); }
        .metric-icon.red { background: rgba(239, 68, 68, 0.1); }
        .metric-icon.red svg { stroke: var(--red); }
        .metric-value.red { color: var(--red); }

        .roi-negative-msg {
            margin-top: 0.75rem;
            padding: 0.75rem 1rem;
            background: rgba(239, 68, 68, 0.08);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 8px;
            color: var(--red);
            font-size: 0.85rem;
            line-height: 1.5;
        }

        /* Comparison Table */
        .comparison-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 2rem;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
        }

        .comparison-card.visible {
            animation: metricAppear 0.6s var(--ease-out-expo) 0.5s forwards;
        }

        .comparison-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1.5rem;
            align-items: start;
        }

        .comparison-col {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .comparison-col-header {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
            text-align: center;
        }

        .before-header {
            color: var(--text-dim);
        }

        .after-header {
            color: var(--green);
        }

        .comparison-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            padding: 0.5rem 0;
        }

        .comparison-item .val {
            font-weight: 600;
            color: var(--text);
        }

        .comparison-item.dim .val {
            color: var(--text-dim);
        }

        .comparison-item.positive .val {
            color: var(--green);
        }

        .comparison-divider {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            padding-top: 2.5rem;
        }

        .comparison-arrow {
            width: 32px;
            height: 32px;
            background: var(--accent-soft);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: arrowPulse 2s ease-in-out infinite;
        }

        .comparison-arrow svg {
            width: 16px;
            height: 16px;
            stroke: var(--accent);
        }

        @keyframes arrowPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 rgba(59,130,246,0); }
            50% { transform: scale(1.1); box-shadow: 0 0 15px var(--accent-glow); }
        }

        /* ROI Highlight */
        .roi-highlight {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(34, 197, 94, 0.05) 100%);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 14px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2.5rem;
            opacity: 0;
            transform: translateY(20px);
        }

        .roi-highlight.visible {
            animation: metricAppear 0.6s var(--ease-out-expo) 0.7s forwards;
        }

        .roi-highlight h3 {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .roi-big-number {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--green);
            line-height: 1;
            margin-bottom: 0.25rem;
            text-shadow: 0 0 40px var(--green-glow);
        }

        .roi-sub {
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        /* ============================== */
        /* LEAD CAPTURE                   */
        /* ============================== */
        .lead-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 2.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
        }

        .lead-section.visible {
            animation: metricAppear 0.6s var(--ease-out-expo) 0.9s forwards;
        }

        .lead-section::before {
            content: '';
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 160px;
            background: radial-gradient(ellipse, var(--accent-glow) 0%, transparent 70%);
            opacity: 0.2;
        }

        .lead-section h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .lead-section > p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .lead-form {
            max-width: 400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            position: relative;
        }

        .lead-form input {
            width: 100%;
            padding: 0.8rem 1rem;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 0.9rem;
            font-family: var(--font);
            outline: none;
            transition: border-color 0.2s;
        }

        .lead-form input::placeholder {
            color: var(--text-dim);
        }

        .lead-form input:focus {
            border-color: var(--accent);
        }

        .lead-form input.error {
            border-color: #ef4444;
        }

        .btn-submit {
            padding: 0.85rem 1.5rem;
            background: var(--accent);
            color: white;
            font-size: 0.95rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: var(--font);
            transition: all 0.3s var(--ease-spring);
            margin-top: 0.5rem;
        }

        .btn-submit:hover {
            box-shadow: 0 0 30px var(--accent-glow);
            transform: translateY(-2px);
        }

        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .success-message {
            display: none;
            padding: 1.5rem;
            text-align: center;
        }

        .success-message.visible {
            display: block;
            animation: fadeUp 0.5s var(--ease-out-expo) forwards;
        }

        .success-icon {
            width: 56px;
            height: 56px;
            margin: 0 auto 1rem;
            background: rgba(34, 197, 94, 0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .success-icon svg {
            width: 28px;
            height: 28px;
            stroke: var(--green);
        }

        .success-message h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .success-message p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        /* Footer */
        footer {
            padding: 2rem 3rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
        }

        .footer-left {
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav { padding: 1rem 1.5rem; }
            .nav-links { display: none; }

            .page-header { padding: 7rem 1.5rem 2rem; }

            .wizard-container { padding: 0 1rem; }
            .wizard-card { padding: 1.5rem; }

            .checkbox-group { grid-template-columns: 1fr; }

            .metrics-grid { grid-template-columns: 1fr; }

            .comparison-grid {
                grid-template-columns: 1fr;
                gap: 0;
            }

            .comparison-divider {
                flex-direction: row;
                padding: 0.5rem 0;
            }

            .roi-big-number { font-size: 2.5rem; }

            .lead-section { padding: 1.5rem; }

            footer {
                padding: 1.5rem;
                flex-direction: column;
                gap: 1rem;
            }

            .progress-line { width: 24px; }
        }

        /* Sources Section */
        .sources-section {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .sources-section.visible {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        /* Sector Sources */
        .sector-sources {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(34, 197, 94, 0.05);
            border: 1px solid rgba(34, 197, 94, 0.15);
            border-radius: 12px;
        }
        .sector-sources-title {
            font-weight: 700;
            font-size: 1rem;
            color: var(--green);
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .sector-sources-title svg {
            width: 20px;
            height: 20px;
            stroke: var(--green);
            flex-shrink: 0;
        }
        .sector-source-item {
            padding: 1rem;
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border);
            border-radius: 10px;
            margin-bottom: 0.75rem;
        }
        .sector-source-item:last-child {
            margin-bottom: 0;
        }
        .sector-source-stat {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.35rem;
        }
        .sector-source-detail {
            font-size: 0.82rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }
        .sector-source-ref {
            font-size: 0.75rem;
            color: var(--text-dim);
            font-style: italic;
        }
        .sector-source-ref a {
            color: var(--accent);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }
        .sector-source-ref a:hover {
            border-bottom-color: var(--accent);
        }
        .sources-section h3 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--text);
        }
        .sources-intro {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }
        .sources-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .source-card {
            padding: 1.25rem;
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border);
            border-radius: 12px;
        }
        .source-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 0.75rem;
        }
        .source-icon svg {
            width: 100%;
            height: 100%;
            stroke: var(--accent);
        }
        .source-label {
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        .source-detail {
            font-size: 0.82rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 0.75rem;
        }
        .source-link {
            display: inline-block;
            font-size: 0.78rem;
            color: var(--accent);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }
        .source-link:hover {
            border-bottom-color: var(--accent);
        }
        .sources-disclaimer {
            margin-top: 1.5rem;
            padding: 1rem 1.25rem;
            background: rgba(245, 158, 11, 0.08);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 10px;
            font-size: 0.82rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        .sources-disclaimer strong {
            color: var(--amber);
        }
        /* PF Context */
        .pf-context {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(59, 130, 246, 0.06);
            border: 1px solid rgba(59, 130, 246, 0.15);
            border-radius: 12px;
        }
        .pf-context-title {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 1.25rem;
        }
        .pf-context-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .pf-stat {
            padding: 1rem;
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        .pf-stat-number {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--accent);
            margin-bottom: 0.25rem;
        }
        .pf-stat-label {
            font-size: 0.82rem;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 0.4rem;
        }
        .pf-stat-source {
            font-size: 0.7rem;
            color: var(--text-dim);
            font-style: italic;
        }
        .pf-context-conclusion {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-top: 0.5rem;
        }
        .source-links-multi {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem 1rem;
        }
        /* Formula Box */
        .formula-box {
            margin-top: 1.5rem;
            padding: 1.25rem 1.5rem;
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border);
            border-radius: 12px;
        }
        .formula-title {
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--text);
            margin-bottom: 1rem;
        }
        .formula-steps {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
        }
        .formula-step {
            font-size: 0.82rem;
            color: var(--text-secondary);
            display: flex;
            align-items: baseline;
            gap: 0.75rem;
        }
        .formula-num {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 22px;
            height: 22px;
            min-width: 22px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            .sources-grid { grid-template-columns: 1fr; }
            .sources-section { padding: 1.5rem; }
            .pf-context-grid { grid-template-columns: 1fr; }
            .sector-sources { padding: 1rem; }
            .sector-source-stat { font-size: 0.95rem; }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>

    <!-- Background -->
    <div class="bg-animation">
        <div class="bg-grid"></div>
        <div class="orb-parallax orb-wrap-1" data-speed="0.008"><div class="floating-orb orb-1"></div></div>
        <div class="orb-parallax orb-wrap-2" data-speed="0.012"><div class="floating-orb orb-2"></div></div>
    </div>

    <!-- Nav -->
    <nav>
        <a href="/" class="logo">
            <img src="/assets/logo.png" alt="PACIFIK'AI" class="logo-img">
        </a>
        <ul class="nav-links">
            <li><a href="/">Accueil</a></li>
            <li><a href="/#services">Services</a></li>
            <li><a href="/#process">Processus</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="/#contact">Contact</a></li>
        </ul>
        <a href="/#contact" class="nav-cta">Nous contacter</a>
    </nav>

    <main>

    <!-- Page Header -->
    <section class="page-header">
        <div class="page-header-glow"></div>
        <h1>Calculez votre <span class="highlight">ROI</span> avec l'IA</h1>
        <p>Estimez en 2 minutes les economies que l'automatisation peut apporter a votre entreprise polynesienne.</p>
    </section>

    <!-- Wizard -->
    <div class="wizard-container">

        <!-- Progress -->
        <div class="progress-bar" id="progressBar">
            <div class="progress-step active" data-step="0"><span>1</span></div>
            <div class="progress-line" data-line="0"></div>
            <div class="progress-step" data-step="1"><span>2</span></div>
            <div class="progress-line" data-line="1"></div>
            <div class="progress-step" data-step="2"><span>3</span></div>
            <div class="progress-line" data-line="2"></div>
            <div class="progress-step" data-step="3"><span>4</span></div>
            <div class="progress-line" data-line="3"></div>
            <div class="progress-step" data-step="4"><span>5</span></div>
        </div>

        <!-- Wizard Card -->
        <div class="wizard-card" id="wizardCard">

            <!-- Step 1: Secteur -->
            <div class="step-container active" data-step="0">
                <div class="step-label">Question 1/5</div>
                <h2 class="step-title">Quel est votre secteur d'activite ?</h2>
                <div class="select-group" data-field="secteur">
                    <div class="select-option" data-value="Commerce">
                        <div class="radio-dot"></div>
                        <span>Commerce</span>
                    </div>
                    <div class="select-option" data-value="Hotellerie/Tourisme">
                        <div class="radio-dot"></div>
                        <span>Hotellerie / Tourisme</span>
                    </div>
                    <div class="select-option" data-value="Services">
                        <div class="radio-dot"></div>
                        <span>Services</span>
                    </div>
                    <div class="select-option" data-value="Import/Distribution">
                        <div class="radio-dot"></div>
                        <span>Import / Distribution</span>
                    </div>
                    <div class="select-option" data-value="Finance">
                        <div class="radio-dot"></div>
                        <span>Finance</span>
                    </div>
                    <div class="select-option" data-value="Sante">
                        <div class="radio-dot"></div>
                        <span>Sante</span>
                    </div>
                    <div class="select-option" data-value="Autre">
                        <div class="radio-dot"></div>
                        <span>Autre</span>
                    </div>
                </div>
                <div class="wizard-nav">
                    <div></div>
                    <button class="btn-wizard-next" id="btnNext0" disabled>
                        Suivant
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Step 2: Nombre employes -->
            <div class="step-container" data-step="1">
                <div class="step-label">Question 2/5</div>
                <h2 class="step-title">Combien d'employes dans votre entreprise ?</h2>
                <div class="select-group" data-field="nb_employes">
                    <div class="select-option" data-value="1-5">
                        <div class="radio-dot"></div>
                        <span>1 - 5 employes</span>
                    </div>
                    <div class="select-option" data-value="6-20">
                        <div class="radio-dot"></div>
                        <span>6 - 20 employes</span>
                    </div>
                    <div class="select-option" data-value="21-50">
                        <div class="radio-dot"></div>
                        <span>21 - 50 employes</span>
                    </div>
                    <div class="select-option" data-value="51-200">
                        <div class="radio-dot"></div>
                        <span>51 - 200 employes</span>
                    </div>
                    <div class="select-option" data-value="200+">
                        <div class="radio-dot"></div>
                        <span>200+ employes</span>
                    </div>
                </div>
                <div class="wizard-nav">
                    <button class="btn-wizard-back" onclick="goStep(-1)">Retour</button>
                    <button class="btn-wizard-next" id="btnNext1" disabled>
                        Suivant
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Step 3: Taches repetitives -->
            <div class="step-container" data-step="2">
                <div class="step-label">Question 3/5</div>
                <h2 class="step-title">Quelles taches repetitives effectuez-vous ?</h2>
                <p style="font-size:0.8rem;color:var(--text-dim);margin-bottom:1rem;">Selectionnez toutes les taches concernees</p>
                <div class="checkbox-group" data-field="taches" data-multi="true">
                    <div class="checkbox-option" data-value="Reponses emails/messages clients">
                        <div class="check-box"></div>
                        <span>Reponses emails / messages</span>
                    </div>
                    <div class="checkbox-option" data-value="Facturation/comptabilite">
                        <div class="check-box"></div>
                        <span>Facturation / comptabilite</span>
                    </div>
                    <div class="checkbox-option" data-value="Gestion RDV/reservations">
                        <div class="check-box"></div>
                        <span>Gestion RDV / reservations</span>
                    </div>
                    <div class="checkbox-option" data-value="Creation contenu marketing">
                        <div class="check-box"></div>
                        <span>Creation contenu marketing</span>
                    </div>
                    <div class="checkbox-option" data-value="Saisie de donnees">
                        <div class="check-box"></div>
                        <span>Saisie de donnees</span>
                    </div>
                    <div class="checkbox-option" data-value="Relances clients/prospects">
                        <div class="check-box"></div>
                        <span>Relances clients / prospects</span>
                    </div>
                    <div class="checkbox-option" data-value="Rapports et reporting">
                        <div class="check-box"></div>
                        <span>Rapports et reporting</span>
                    </div>
                </div>
                <div class="wizard-nav">
                    <button class="btn-wizard-back" onclick="goStep(-1)">Retour</button>
                    <button class="btn-wizard-next" id="btnNext2" disabled>
                        Suivant
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Step 4: Temps passe -->
            <div class="step-container" data-step="3">
                <div class="step-label">Question 4/5</div>
                <h2 class="step-title">Combien de temps passez-vous sur ces taches ?</h2>
                <div class="select-group" data-field="temps_taches">
                    <div class="select-option" data-value="Moins de 5h/semaine" data-hours="3">
                        <div class="radio-dot"></div>
                        <span>Moins de 5h / semaine</span>
                    </div>
                    <div class="select-option" data-value="5-10h/semaine" data-hours="7.5">
                        <div class="radio-dot"></div>
                        <span>5 - 10h / semaine</span>
                    </div>
                    <div class="select-option" data-value="10-20h/semaine" data-hours="15">
                        <div class="radio-dot"></div>
                        <span>10 - 20h / semaine</span>
                    </div>
                    <div class="select-option" data-value="20-40h/semaine" data-hours="30">
                        <div class="radio-dot"></div>
                        <span>20 - 40h / semaine</span>
                    </div>
                    <div class="select-option" data-value="Plus de 40h/semaine" data-hours="50">
                        <div class="radio-dot"></div>
                        <span>Plus de 40h / semaine</span>
                    </div>
                </div>
                <div class="wizard-nav">
                    <button class="btn-wizard-back" onclick="goStep(-1)">Retour</button>
                    <button class="btn-wizard-next" id="btnNext3" disabled>
                        Suivant
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Step 5: Outils actuels -->
            <div class="step-container" data-step="4">
                <div class="step-label">Question 5/5</div>
                <h2 class="step-title">Quels outils utilisez-vous actuellement ?</h2>
                <p style="font-size:0.8rem;color:var(--text-dim);margin-bottom:1rem;">Selectionnez tous les outils utilises</p>
                <div class="checkbox-group" data-field="outils" data-multi="true">
                    <div class="checkbox-option" data-value="Excel/Sheets">
                        <div class="check-box"></div>
                        <span>Excel / Google Sheets</span>
                    </div>
                    <div class="checkbox-option" data-value="Email seul">
                        <div class="check-box"></div>
                        <span>Email seul</span>
                    </div>
                    <div class="checkbox-option" data-value="CRM">
                        <div class="check-box"></div>
                        <span>CRM (Salesforce, HubSpot...)</span>
                    </div>
                    <div class="checkbox-option" data-value="WhatsApp/Messenger">
                        <div class="check-box"></div>
                        <span>WhatsApp / Messenger</span>
                    </div>
                    <div class="checkbox-option" data-value="Logiciel metier">
                        <div class="check-box"></div>
                        <span>Logiciel metier</span>
                    </div>
                    <div class="checkbox-option" data-value="Rien de specifique">
                        <div class="check-box"></div>
                        <span>Rien de specifique</span>
                    </div>
                </div>
                <div class="wizard-nav">
                    <button class="btn-wizard-back" onclick="goStep(-1)">Retour</button>
                    <button class="btn-wizard-next" id="btnNext4" onclick="calculateROI()">
                        Voir mes resultats
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

        </div>

        <!-- Results (hidden until calculated) -->
        <div class="results-container" id="resultsContainer">

            <div class="results-header">
                <h2>Vos resultats d'automatisation</h2>
                <p>Estimation basee sur votre profil d'entreprise</p>
            </div>

            <!-- Metrics -->
            <div class="metrics-grid">
                <div class="metric-card" id="metricHours">
                    <div class="metric-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    </div>
                    <div class="metric-label">Heures economisees / mois</div>
                    <div class="metric-value" id="valHours">0</div>
                    <div class="metric-unit">heures</div>
                    <div class="metric-progress"><div class="metric-progress-fill blue" id="barHours"></div></div>
                </div>

                <div class="metric-card green" id="metricEco">
                    <div class="metric-icon green">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
                    </div>
                    <div class="metric-label">Economies mensuelles</div>
                    <div class="metric-value green" id="valEco">0</div>
                    <div class="metric-unit">XPF / mois</div>
                    <div class="metric-progress"><div class="metric-progress-fill green" id="barEco"></div></div>
                </div>

                <div class="metric-card amber" id="metricROI">
                    <div class="metric-icon amber">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                    </div>
                    <div class="metric-label">ROI sur 12 mois</div>
                    <div class="metric-value amber" id="valROI">0</div>
                    <div class="metric-unit">pourcent</div>
                    <div class="metric-progress"><div class="metric-progress-fill amber" id="barROI"></div></div>
                </div>
            </div>

            <!-- Comparison -->
            <div class="comparison-card" id="comparisonCard">
                <div class="comparison-title">Avant vs Apres automatisation</div>
                <div class="comparison-grid">
                    <div class="comparison-col">
                        <div class="comparison-col-header before-header">Avant</div>
                        <div class="comparison-item dim">
                            <span>Temps repetitif :</span>
                            <span class="val" id="compBefore1">--</span>
                        </div>
                        <div class="comparison-item dim">
                            <span>Cout mensuel :</span>
                            <span class="val" id="compBefore2">--</span>
                        </div>
                        <div class="comparison-item dim">
                            <span>Erreurs manuelles :</span>
                            <span class="val">Frequentes</span>
                        </div>
                        <div class="comparison-item dim">
                            <span>Disponibilite :</span>
                            <span class="val">Heures bureau</span>
                        </div>
                    </div>

                    <div class="comparison-divider">
                        <div class="comparison-arrow">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                        </div>
                    </div>

                    <div class="comparison-col">
                        <div class="comparison-col-header after-header">Apres IA</div>
                        <div class="comparison-item positive">
                            <span>Temps repetitif :</span>
                            <span class="val" id="compAfter1">--</span>
                        </div>
                        <div class="comparison-item positive">
                            <span>Cout mensuel :</span>
                            <span class="val" id="compAfter2">--</span>
                        </div>
                        <div class="comparison-item positive">
                            <span>Erreurs manuelles :</span>
                            <span class="val">Quasi nulles</span>
                        </div>
                        <div class="comparison-item positive">
                            <span>Disponibilite :</span>
                            <span class="val">24h/24 7j/7</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ROI Highlight -->
            <div class="roi-highlight" id="roiHighlight">
                <h3>Retour sur investissement a 12 mois</h3>
                <div class="roi-big-number" id="roiBigNumber">+0%</div>
                <div class="roi-sub" id="roiSubText">Estimation basee sur un forfait adapte a votre entreprise</div>
            </div>

            <!-- Lead Capture -->
            <div class="lead-section" id="leadSection">
                <h3>Recevez votre rapport ROI personnalise</h3>
                <p>Nous vous envoyons un rapport detaille avec des recommandations adaptees a votre secteur.</p>

                <div class="lead-form" id="leadForm">
                    <input type="text" id="leadNom" placeholder="Votre nom *" required>
                    <input type="email" id="leadEmail" placeholder="Votre email *" required>
                    <input type="text" id="leadEntreprise" placeholder="Nom de votre entreprise">
                    <input type="tel" id="leadTel" placeholder="Telephone (optionnel)">
                    <button class="btn-submit" id="btnSubmit" onclick="submitLead()">
                        Recevoir mon rapport
                    </button>
                </div>

                <div class="success-message" id="successMsg">
                    <div class="success-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    </div>
                    <h4>Merci !</h4>
                    <p>Votre rapport ROI personnalise sera envoye sous 24h.</p>
                </div>
            </div>

        </div>

        <!-- Sources & Methodologie -->
        <div class="sources-section" id="sourcesSection">
            <h3>Methodologie et sources</h3>
            <p class="sources-intro">Ce calculateur repose sur des etudes internationales reconnues, adaptees au contexte economique de la Polynesie francaise.</p>

            <!-- Sector-specific Sources (dynamic) -->
            <div class="sector-sources" id="sectorSourcesContainer" style="display:none;"></div>

            <!-- Contexte Polynsien -->
            <div class="pf-context">
                <div class="pf-context-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;stroke:var(--accent)"><path d="M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10z"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10A15.3 15.3 0 0112 2z"/></svg>
                    Pourquoi le ROI est encore plus fort en Polynesie francaise
                </div>
                <div class="pf-context-grid">
                    <div class="pf-stat">
                        <div class="pf-stat-number">97%</div>
                        <div class="pf-stat-label">des entreprises PF sont des TPE (&lt;10 salaries)</div>
                        <div class="pf-stat-source">ISPF / Senat  Rapport Outre-mer</div>
                    </div>
                    <div class="pf-stat">
                        <div class="pf-stat-number">+39%</div>
                        <div class="pf-stat-label">de cout de la vie vs metropole (jusqu'a +55% pour certains postes)</div>
                        <div class="pf-stat-source">INSEE / Vivre en Polynesie 2024</div>
                    </div>
                    <div class="pf-stat">
                        <div class="pf-stat-number">38-42%</div>
                        <div class="pf-stat-label">de charges patronales CPS sur chaque salaire</div>
                        <div class="pf-stat-source">CPS.pf / CLEISS  Cotisations PF 2025</div>
                    </div>
                    <div class="pf-stat">
                        <div class="pf-stat-number">5 200+</div>
                        <div class="pf-stat-label">entreprises dans le tourisme (15% du tissu economique, 17% du CA total)</div>
                        <div class="pf-stat-source">ISPF  Tourisme 2024</div>
                    </div>
                </div>
                <p class="pf-context-conclusion">En Polynesie, les couts salariaux charges sont eleves, les taches administratives nombreuses et la digitalisation encore faible. L'automatisation IA a donc un impact proportionnellement plus fort qu'en metropole pour les TPE/PME locales.</p>
            </div>

            <!-- Sources de calcul -->
            <div class="sources-grid">
                <div class="source-card">
                    <div class="source-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
                    </div>
                    <div class="source-label">Taux d'automatisation : 60%</div>
                    <div class="source-detail">McKinsey "State of AI" (mars 2025) : 57% des heures de travail sont automatisables avec les technologies existantes. Nous appliquons 60% specifiquement aux taches repetitives selectionnees (emails, facturation, reservations).</div>
                    <a href="https://www.mckinsey.com/capabilities/quantumblack/our-insights/the-state-of-ai" target="_blank" class="source-link">McKinsey  The State of AI 2025</a>
                </div>

                <div class="source-card">
                    <div class="source-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M2 12h20"/></svg>
                    </div>
                    <div class="source-label">Cout horaire : 2 200 XPF/h</div>
                    <div class="source-detail">SMIG Polynesie = 1 024 XPF/h brut (mai 2024). Charges patronales CPS = 38-42% (maladie 9,96% + retraite 15,69% + famille 4,16% + AT 0,77%). Un employe polyvalent PME au-dessus du SMIG revient a ~2 200 XPF/h tout compris.</div>
                    <div class="source-links-multi">
                        <a href="https://www.service-public.pf/trav/wp-content/uploads/sites/23/2025/05/FPCG-SMIG-2025-05.pdf" target="_blank" class="source-link">Service-Public.pf  SMIG 2025</a>
                        <a href="https://www.cleiss.fr/docs/cotisations/pf.html" target="_blank" class="source-link">CLEISS  Cotisations PF</a>
                        <a href="https://www.cps.pf/assures/rns/les-cotisations" target="_blank" class="source-link">CPS.pf  Taux en vigueur</a>
                    </div>
                </div>

                <div class="source-card">
                    <div class="source-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                    </div>
                    <div class="source-label">Gains indirects : +30%</div>
                    <div class="source-detail">Gartner (2024) : les organisations utilisant l'hyperautomatisation reduisent leurs couts operationnels de 30%. Inclut : reduction des erreurs de saisie, disponibilite 24/7 (crucial en Polynesie avec le decalage horaire), et rapidite de traitement.</div>
                    <a href="https://www.gartner.com/en/newsroom/press-releases/2024-09-18-gartner-says-30-percent-of-enterprises-will-automate-more-than-half-of-their-network-activities-by-2026" target="_blank" class="source-link">Gartner  Hyperautomation 2024</a>
                </div>

                <div class="source-card">
                    <div class="source-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                    </div>
                    <div class="source-label">ROI comparable : 200-300%</div>
                    <div class="source-detail">Forrester/Salesforce (2023) : 299% de ROI sur 3 ans. UiPath : 200%+ de ROI en 1 an (60% reduction temps, 80% moins d'erreurs). Zapier (2024) : PME economisent 3-6h/personne/mois. Deloitte : 74% des projets IA atteignent ou depassent les attentes de ROI.</div>
                    <div class="source-links-multi">
                        <a href="https://www.deloitte.com/global/en/issues/generative-ai/ai-roi-the-paradox-of-rising-investment-and-elusive-returns.html" target="_blank" class="source-link">Deloitte  AI ROI 2025</a>
                        <a href="https://zapier.com/customer-stories" target="_blank" class="source-link">Zapier  Customer Stories</a>
                    </div>
                </div>
            </div>

            <!-- Formule explique -->
            <div class="formula-box">
                <div class="formula-title">Formule de calcul</div>
                <div class="formula-steps">
                    <div class="formula-step"><span class="formula-num">1</span> Heures economisees = heures repetitives x 60% x (1 + bonus multi-taches)</div>
                    <div class="formula-step"><span class="formula-num">2</span> Economies directes = heures economisees x 2 200 XPF (cout horaire charge)</div>
                    <div class="formula-step"><span class="formula-num">3</span> Economies totales = economies directes + 30% gains indirects</div>
                    <div class="formula-step"><span class="formula-num">4</span> ROI = (economies annuelles - investissement annuel) / investissement annuel x 100</div>
                </div>
            </div>

            <div class="sources-disclaimer">
                <strong>Avertissement :</strong> Ces estimations sont indicatives et basees sur des etudes internationales adaptees au contexte polynesien. Le ROI reel depend de la complexite de vos processus, du volume de donnees, et de l'implication de vos equipes. <strong>Nous realisons un audit gratuit</strong> pour affiner ces chiffres selon votre situation reelle.
            </div>
        </div>

    </div>

    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-left">
            &copy; 2026 PACIFIK'AI &mdash; Tahiti, Polynesie francaise
        </div>
        <div class="footer-links">
            <a href="/">Accueil</a>
            <a href="https://www.facebook.com/profile.php?id=61587101037690" target="_blank">Facebook</a>
            <a href="mailto:contact@pacifikai.com">Contact</a>
        </div>
    </footer>

    <script>
    (function() {
        'use strict';

        // ====== STATE ======
        let currentStep = 0;
        const totalSteps = 5;
        const answers = {
            secteur: null,
            nb_employes: null,
            taches: [],
            temps_taches: null,
            temps_hours: 0,
            outils: []
        };

        // Computed results
        let results = {
            heures_economisees_mois: 0,
            economies_mois: 0,
            roi_pct: 0
        };

        // ====== SINGLE SELECT ======
        document.querySelectorAll('.select-group .select-option').forEach(opt => {
            opt.addEventListener('click', function() {
                const group = this.closest('.select-group');
                const field = group.dataset.field;

                // Deselect siblings
                group.querySelectorAll('.select-option').forEach(s => s.classList.remove('selected'));
                this.classList.add('selected');

                answers[field] = this.dataset.value;

                // Special: store hours for temps_taches
                if (field === 'temps_taches' && this.dataset.hours) {
                    answers.temps_hours = parseFloat(this.dataset.hours);
                }

                updateNextButton();
            });
        });

        // ====== MULTI SELECT ======
        document.querySelectorAll('.checkbox-option').forEach(opt => {
            opt.addEventListener('click', function() {
                this.classList.toggle('selected');

                const group = this.closest('[data-field]');
                const field = group.dataset.field;
                const selected = group.querySelectorAll('.checkbox-option.selected');
                answers[field] = Array.from(selected).map(s => s.dataset.value);

                updateNextButton();
            });
        });

        // ====== NEXT BUTTON STATE ======
        function updateNextButton() {
            const btn = document.getElementById('btnNext' + currentStep);
            if (!btn) return;

            let valid = false;
            switch (currentStep) {
                case 0: valid = !!answers.secteur; break;
                case 1: valid = !!answers.nb_employes; break;
                case 2: valid = answers.taches.length > 0; break;
                case 3: valid = !!answers.temps_taches; break;
                case 4: valid = answers.outils.length > 0; break;
            }
            btn.disabled = !valid;
        }

        // ====== NEXT BUTTONS (steps 0-3) ======
        for (let i = 0; i < 4; i++) {
            const btn = document.getElementById('btnNext' + i);
            if (btn) {
                btn.addEventListener('click', function() {
                    if (!this.disabled) goStep(1);
                });
            }
        }

        // ====== STEP NAVIGATION ======
        window.goStep = function(direction) {
            const oldStep = currentStep;
            const newStep = oldStep + direction;
            if (newStep < 0 || newStep >= totalSteps) return;

            // Slide out old step
            const oldContainer = document.querySelector(`.step-container[data-step="${oldStep}"]`);
            const newContainer = document.querySelector(`.step-container[data-step="${newStep}"]`);

            oldContainer.classList.remove('active');
            oldContainer.classList.add('slide-out-left');

            setTimeout(() => {
                oldContainer.classList.remove('slide-out-left');
                oldContainer.style.display = 'none';

                newContainer.style.display = '';
                newContainer.classList.add('active');

                currentStep = newStep;
                updateProgress();
                updateNextButton();
            }, 250);
        };

        // ====== PROGRESS BAR ======
        function updateProgress() {
            document.querySelectorAll('.progress-step').forEach((step, i) => {
                step.classList.remove('active', 'completed');
                if (i < currentStep) step.classList.add('completed');
                else if (i === currentStep) step.classList.add('active');
            });

            document.querySelectorAll('.progress-line').forEach((line, i) => {
                line.classList.remove('completed', 'active');
                if (i < currentStep) line.classList.add('completed');
                else if (i === currentStep) line.classList.add('active');
            });
        }

        // ====== SECTOR SOURCES DATA ======
        const sectorSources = {
            'Commerce': {
                label: 'Commerce & Retail',
                sources: [
                    {
                        stat: 'Klarna : IA = 700 agents, +40M$ de profit',
                        detail: 'Le chatbot IA de Klarna gere 2,3M de conversations/mois (2/3 du support), temps de resolution de 11 min a 2 min, -25% de reclamations repetees.',
                        ref: 'Klarna Press Release, 2024',
                        url: 'https://www.klarna.com/international/press/klarna-ai-assistant-handles-two-thirds-of-customer-service-chats-in-its-first-month/'
                    },
                    {
                        stat: 'McKinsey : 240-390 Mds$ de valeur potentielle pour le retail',
                        detail: 'GenAI dans le retail peut generer +5% de ventes incrementales et reduire les couts support de ~20%.',
                        ref: 'McKinsey  LLM to ROI: How to Scale Gen AI in Retail, 2024',
                        url: 'https://www.mckinsey.com/industries/retail/our-insights/llm-to-roi-how-to-scale-gen-ai-in-retail'
                    },
                    {
                        stat: 'Shopify : -20 a 30% sur les stocks grace a l\'IA',
                        detail: 'Previsions de demande IA : -20-30% de stocks, 5-20% d\'economies logistiques. Les recommandations personnalisees triplent le chiffre d\'affaires.',
                        ref: 'Shopify  AI Statistics, 2025',
                        url: 'https://www.shopify.com/blog/ai-statistics'
                    },
                    {
                        stat: 'Email marketing auto : 37% des ventes pour 2% du volume',
                        detail: 'Les emails automatises representent 37% des ventes attribuees a l\'email en 2024, avec seulement 2% du volume envoye. ROI moyen : 36$ pour 1$ investi.',
                        ref: 'Omnisend  Email Marketing Statistics, 2024',
                        url: 'https://www.omnisend.com/blog/email-marketing-statistics/'
                    }
                ]
            },
            'Hotellerie/Tourisme': {
                label: 'Hotellerie & Tourisme',
                sources: [
                    {
                        stat: 'McKinsey : +17% de revenus pour les hotels adoptant l\'IA',
                        detail: 'Les hotels utilisant l\'IA rapportent +17% de revenus et +10% d\'occupation vs non-adoptants. 59% des organisations tourisme voient leur productivite augmenter.',
                        ref: 'McKinsey  Remapping Travel with Agentic AI, 2025',
                        url: 'https://www.mckinsey.com/industries/travel/our-insights/remapping-travel-with-agentic-ai'
                    },
                    {
                        stat: 'Hotel Tech Report : 300-500% de ROI en 12 mois',
                        detail: 'Les hotels avec IA rapportent 300-500% de ROI en 1 an. L\'upselling IA genere +200% de revenus annexes. Les chatbots traitent 60-80% des requetes courantes.',
                        ref: 'Hotel Tech Report  AI in Hospitality Statistics, 2024-2025',
                        url: 'https://hoteltechreport.com/news/ai-in-hospitality-statistics'
                    },
                    {
                        stat: 'Reservations directes : +12-20% avec chatbot IA',
                        detail: 'L\'integration de chatbots IA augmente les reservations directes de 12 a 20%, et recupere 30%+ des abandons de reservation.',
                        ref: 'HospitalityNet / Industry Report, 2024',
                        url: 'https://agentiveaiq.com/blog/ai-in-booking-systems-smarter-scheduling-for-2025'
                    },
                    {
                        stat: 'Deloitte : 1 hotel sur 10 seulement utilise l\'IA',
                        detail: 'Opportunite massive : seuls 10% des hotels europeens implementent l\'IA actuellement. Les premiers adoptants captent l\'avantage concurrentiel.',
                        ref: 'Deloitte  European Hotel Industry Survey, 2024',
                        url: 'https://www.deloitte.com/uk/en/Industries/consumer/research/european-hotel-industry-and-investment-survey-2024.html'
                    }
                ]
            },
            'Services': {
                label: 'Services & Professions liberales',
                sources: [
                    {
                        stat: 'Thomson Reuters : 81% des cabinets avec strategie IA voient un ROI',
                        detail: 'Les cabinets juridiques avec une strategie IA sont 3,5x plus susceptibles d\'atteindre un ROI. L\'IA economise 4-5h/semaine par professionnel (12h d\'ici 2029).',
                        ref: 'Thomson Reuters  Future of Professionals, 2024-2025',
                        url: 'https://insight.thomsonreuters.com.au/legal/resources/resource/the-roi-of-legal-tech-ai'
                    },
                    {
                        stat: 'Karbon : 18,5h economisees par employe par semaine',
                        detail: 'Les cabinets comptables utilisant l\'IA Karbon economisent 18,5h/employe/semaine. Ceux qui forment leurs equipes gagnent 22% de temps en plus.',
                        ref: 'Karbon  State of AI in Accounting, 2024',
                        url: 'https://karbonhq.com/resources/state-of-ai-accounting-report-2024/'
                    },
                    {
                        stat: 'McKinsey : 30-45% de gains de productivite sur les services',
                        detail: 'Le GenAI peut automatiser 60-70% du temps de travail dans les services professionnels, avec des gains de productivite de 30-45% sur les couts fonctionnels.',
                        ref: 'McKinsey  Economic Potential of Generative AI, 2023-2024',
                        url: 'https://www.mckinsey.com/capabilities/tech-and-ai/our-insights/the-economic-potential-of-generative-ai-the-next-productivity-frontier'
                    },
                    {
                        stat: 'Deloitte : 22% de reduction de couts + 11% de croissance',
                        detail: 'Les organisations utilisant l\'automatisation intelligente (RPA + IA) projettent 22% d\'economies et 11% de croissance du CA sur 3 ans.',
                        ref: 'Deloitte  Global Intelligent Automation Survey, 2024-2025',
                        url: 'https://flobotics.io/blog/rpa-statistics/'
                    }
                ]
            },
            'Import/Distribution': {
                label: 'Import & Distribution',
                sources: [
                    {
                        stat: 'McKinsey : 15-17x de ROI sur la logistique derniere mile',
                        detail: 'Un operateur last-mile (10 000+ vehicules) a economise 30-35M$ avec un investissement de 2M$ grace a des agents IA dispatchers virtuels.',
                        ref: 'McKinsey  Beyond Automation: Gen AI in Supply Chains, 2024-2025',
                        url: 'https://www.mckinsey.com/capabilities/operations/our-insights/beyond-automation-how-gen-ai-is-reshaping-supply-chains'
                    },
                    {
                        stat: 'DHL : +30% de productivite, 99,7% de precision',
                        detail: 'La robotique IA de DHL atteint 99,7% de precision des commandes (+35% productivite). L\'IA predictive reduit les delais de livraison de 25%.',
                        ref: 'DHL Supply Chain  Innovation 2024',
                        url: 'https://www.dhl.com/us-en/home/press/press-archive/2024/dhl-supply-chain-continues-to-innovate-with-orchestration-robotics-and-ai-in-2024.html'
                    },
                    {
                        stat: 'Maersk : 300M$/an economises en maintenance predictive',
                        detail: 'L\'IA predictive de Maersk analyse 2 milliards de points de donnees/jour, predit les pannes 3 semaines a l\'avance (85% de precision). Douane IA : -30-60% sur les temps de dedouanement.',
                        ref: 'Maersk  AI Customs Clearance, 2024',
                        url: 'https://www.maersk.com/insights/digitalisation/2024/02/14/ai-customs-clearance-automation-and-machine-learning'
                    },
                    {
                        stat: 'OECD/PwC : -30-60% sur les temps de dedouanement',
                        detail: 'La digitalisation complete des douanes reduit les delais de dedouanement de 30 a 60%. Les entreprises conformes sont 2-3x plus susceptibles de garder leur statut AEO.',
                        ref: 'PwC  Revolutionising Customs with AI, 2024',
                        url: 'https://www.pwc.com/m1/en/publications/documents/2024/revolutionising-Customs-with-AI.pdf'
                    }
                ]
            },
            'Finance': {
                label: 'Finance & Banque',
                sources: [
                    {
                        stat: 'McKinsey : 200-340 Mds$ de valeur ajoutee pour la banque',
                        detail: 'Le GenAI peut ajouter 200-340 milliards de dollars de valeur annuelle au secteur bancaire (9-15% des profits operationnels).',
                        ref: 'McKinsey  Capturing the Full Value of GenAI in Banking, 2023-2024',
                        url: 'https://www.mckinsey.com/industries/financial-services/our-insights/capturing-the-full-value-of-generative-ai-in-banking'
                    },
                    {
                        stat: 'Goldman Sachs : -300M$ de pertes de credit grace a l\'IA',
                        detail: 'Les modeles de risque IA de Goldman Sachs ont reduit les pertes de credit de ~300M$/an et approuve 25% de prets supplementaires grace a un scoring plus fin.',
                        ref: 'Goldman Sachs  AI Risk Models, 2024',
                        url: 'https://www.mckinsey.com/industries/financial-services/our-insights/global-banking-annual-review-2024'
                    },
                    {
                        stat: 'Capgemini : 450 Mds$ de valeur IA pour la finance d\'ici 2028',
                        detail: 'Les agents IA devraient generer 450 milliards de valeur pour les services financiers d\'ici 2028. 64% des banques deploient l\'IA specifiquement pour la detection de fraude.',
                        ref: 'Capgemini Research Institute, 2025',
                        url: 'https://www.capgemini.com/us-en/news/press-releases/banks-and-insurers-deploy-ai-agents-to-fight-fraud-and-process-applications-with-plans-for-new-roles-to-supervise-the-ai/'
                    },
                    {
                        stat: 'Deloitte : 20-35% de reduction des couts dans les fonctions automatisees',
                        detail: 'Les banques qui deploient l\'IA a echelle rapportent 20-35% de reduction de couts sur les fonctions automatisees (compliance, origination, onboarding).',
                        ref: 'Deloitte  Agentic AI in Banking, 2025',
                        url: 'https://www.deloitte.com/us/en/insights/industry/financial-services/agentic-ai-banking.html'
                    }
                ]
            },
            'Sante': {
                label: 'Sante & Medical',
                sources: [
                    {
                        stat: 'McKinsey/Harvard : 200-360 Mds$ d\'economies potentielles',
                        detail: 'L\'IA pourrait generer 200-360 milliards de dollars d\'economies annuelles dans la sante americaine. L\'automatisation administrative seule = 13-25% d\'economies sur les couts admin.',
                        ref: 'McKinsey / Harvard School of Public Health, 2023-2024',
                        url: 'https://www.mckinsey.com/industries/healthcare/our-insights/generative-ai-in-healthcare-current-trends-and-future-outlook'
                    },
                    {
                        stat: 'Grewal Eye Institute : 675% de ROI en 90 jours',
                        detail: 'Un chatbot IA a traite 7 000+ conversations, pris 1 646 rendez-vous, et genere 618K$ de pipeline en seulement 3 mois.',
                        ref: 'Grewal Eye Institute via GraphLogic AI, 2024',
                        url: 'https://graphlogic.ai/blog/ai-chatbots/ai-use-cases-by-industry/ai-reduces-costs-healthcare/'
                    },
                    {
                        stat: 'Northwell Health : -50% d\'appels au centre d\'appels',
                        detail: 'Le plus grand reseau de sante de New York a reduit de moitie le volume d\'appels grace a un chatbot IA pour la prise de rendez-vous automatique.',
                        ref: 'Northwell Health / Master of Code, 2024',
                        url: 'https://masterofcode.com/blog/ai-in-healthcare-use-cases-applications-examples'
                    },
                    {
                        stat: 'MGMA : 64% des cabinets gagnent 1h+/jour sur l\'admin',
                        detail: '64% des cabinets medicaux adoptant l\'IA economisent au moins 1 heure par jour sur la gestion administrative (fax, formulaires). 2/3 des utilisateurs de scribes IA gagnent 1-4h/jour.',
                        ref: 'MGMA Stat Survey, 2025',
                        url: 'https://www.mgma.com/mgma-stat/sizing-up-the-market-for-ai-chatbots-virtual-assistants-in-medical-practices-in-2025'
                    }
                ]
            },
            'Autre': {
                label: 'Tous secteurs confondus',
                sources: [
                    {
                        stat: 'McKinsey : 78% des organisations utilisent l\'IA en 2024',
                        detail: '78% des organisations ont adopte l\'IA dans au moins une fonction. Le GenAI peut automatiser 60-70% du temps de travail actuel.',
                        ref: 'McKinsey  State of AI, 2024',
                        url: 'https://www.mckinsey.com/capabilities/quantumblack/our-insights/the-state-of-ai'
                    },
                    {
                        stat: 'Deloitte : 74% des projets IA atteignent ou depassent le ROI',
                        detail: 'Deloitte confirme que 74% des projets d\'automatisation atteignent ou depassent les attentes de retour sur investissement.',
                        ref: 'Deloitte  AI ROI Paradox, 2025',
                        url: 'https://www.deloitte.com/global/en/issues/generative-ai/ai-roi-the-paradox-of-rising-investment-and-elusive-returns.html'
                    },
                    {
                        stat: 'Forrester/Salesforce : 299% de ROI sur 3 ans',
                        detail: 'L\'etude Total Economic Impact de Forrester pour Salesforce montre un ROI de 299% sur 3 ans pour les solutions d\'automatisation marketing.',
                        ref: 'Forrester TEI / Salesforce, 2023',
                        url: 'https://zapier.com/customer-stories'
                    },
                    {
                        stat: 'Zapier : 3-6h economisees par personne par mois',
                        detail: 'Les PME utilisant l\'automatisation Zapier economisent en moyenne 3 a 6 heures par personne et par mois, jusqu\'a 47h/semaine pour les equipes.',
                        ref: 'Zapier  Customer Stories, 2024',
                        url: 'https://zapier.com/customer-stories'
                    }
                ]
            }
        };

        // ====== RENDER SECTOR SOURCES ======
        function renderSectorSources(secteur) {
            const container = document.getElementById('sectorSourcesContainer');
            const data = sectorSources[secteur] || sectorSources['Autre'];

            let html = '<div class="sector-sources-title">';
            html += '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>';
            html += 'Etudes ROI pour votre secteur : ' + data.label;
            html += '</div>';

            data.sources.forEach(function(s) {
                html += '<div class="sector-source-item">';
                html += '<div class="sector-source-stat">' + s.stat + '</div>';
                html += '<div class="sector-source-detail">' + s.detail + '</div>';
                html += '<div class="sector-source-ref">' + s.ref;
                if (s.url) {
                    html += '  <a href="' + s.url + '" target="_blank" rel="noopener">Voir la source</a>';
                }
                html += '</div></div>';
            });

            container.innerHTML = html;
            container.style.display = 'block';
        }

        // ====== CALCULATE ROI ======
        // Sources:
        // - McKinsey "State of AI 2025": 57% des heures de travail automatisables
        // - Gartner 2024: 30% reduction couts operationnels via hyperautomatisation
        // - SMIG Polynesie 2024: 1 024 XPF/h brut (service-public.pf)
        // - Forrester/Salesforce 2023: 299% ROI sur 3 ans pour Marketing Cloud
        // - Zapier 2024: PME economisent 3-6h/personne/mois, 47h/semaine pour equipes
        window.calculateROI = function() {
            const heuresBase = answers.temps_hours;
            const nbTaches = answers.taches.length;

            // McKinsey 2025: 57% des heures automatisables (on prend 60%  hypothese moyenne)
            const tauxAutomatisation = 0.60;

            // Plus de taches = plus de valeur (rendements decroissants)
            const multiplicateurTaches = Math.min(nbTaches * 0.15, 0.9);

            // Economies de temps directes (cap a heuresBase  on ne peut pas economiser plus qu'on travaille)
            const heuresEconomiseesSemaine = Math.min(heuresBase * tauxAutomatisation * (1 + multiplicateurTaches), heuresBase);
            const heuresEconomiseesMois = heuresEconomiseesSemaine * 4.33;

            // Cout horaire charge employe Polynesie francaise
            // SMIG brut: 1 024 XPF/h (service-public.pf, mai 2024)
            // Charges patronales ~45% (CPS + CRE): x1.45 = ~1 485 XPF/h
            // Employe moyen (pas SMIG): ~1 800-2 500 XPF/h brut charge
            // On prend 2 200 XPF/h  employe polyvalent PME (defensible)
            const coutHoraireXPF = 2200;
            const economiesDirectes = heuresEconomiseesMois * coutHoraireXPF;

            // Gains indirects: Gartner 2024 cite 30% de reduction couts operationnels
            // Inclut: erreurs evitees, disponibilite 24/7, rapidite de traitement
            const gainsIndirects = economiesDirectes * 0.30;
            const economiesMois = economiesDirectes + gainsIndirects;

            // Investissement mensuel adapte a la taille de l'entreprise
            const tailleMulti = {
                '1-5': 0.5, '6-20': 0.75, '21-50': 1.0, '51-200': 1.4, '200+': 1.8
            };
            const multi = tailleMulti[answers.nb_employes] || 1.0;
            const investissementMois = 150000 * multi;

            // ROI = (gains annuels - investissement annuel) / investissement annuel  100
            const roiPct = ((economiesMois * 12) - (investissementMois * 12)) / (investissementMois * 12) * 100;

            results.heures_economisees_mois = Math.round(heuresEconomiseesMois);
            results.economies_mois = Math.round(economiesMois);
            results.roi_pct = Math.round(roiPct);
            results.investissement_mois = investissementMois;

            showResults();
        };

        // ====== SHOW RESULTS ======
        function showResults() {
            // Hide wizard card
            document.getElementById('wizardCard').style.display = 'none';
            document.querySelector('.progress-bar').style.display = 'none';

            // Show results
            const rc = document.getElementById('resultsContainer');
            rc.classList.add('active');

            // Scroll to results
            rc.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Render sector-specific sources
            renderSectorSources(answers.secteur);

            // Animate metrics with delay
            setTimeout(() => {
                document.querySelectorAll('.metric-card, .comparison-card, .roi-highlight, .lead-section, .sources-section').forEach(el => {
                    el.classList.add('visible');
                });

                // ROI sign handling  show real value, positive or negative
                const roiIsNegative = results.roi_pct < 0;
                const roiPrefix = roiIsNegative ? '' : '+';
                const roiDisplayVal = results.roi_pct;

                // Color ROI card: amber if positive, red if negative
                const metricROI = document.getElementById('metricROI');
                if (roiIsNegative) {
                    metricROI.className = 'metric-card red visible';
                    document.querySelector('#metricROI .metric-icon').className = 'metric-icon red';
                    document.getElementById('valROI').className = 'metric-value red';
                    document.getElementById('barROI').className = 'metric-progress-fill red';
                }

                // Animate counter values
                animateValue('valHours', 0, results.heures_economisees_mois, 1500, '', 'h');
                animateValue('valEco', 0, results.economies_mois, 1800, '', ' XPF');
                animateValue('valROI', 0, roiDisplayVal, 2000, roiPrefix, '%');

                // Progress bars
                setTimeout(() => {
                    const maxHours = 200;
                    const maxEco = 5000000;
                    const maxROI = 500;

                    document.getElementById('barHours').style.width = Math.min(100, (results.heures_economisees_mois / maxHours) * 100) + '%';
                    document.getElementById('barEco').style.width = Math.min(100, (results.economies_mois / maxEco) * 100) + '%';
                    document.getElementById('barROI').style.width = Math.min(100, (Math.max(0, results.roi_pct) / maxROI) * 100) + '%';
                }, 300);

                // Comparison values (BUG 3 fix: clamp afterHours to >= 0)
                const totalHoursMonth = answers.temps_hours * 4.33;
                const afterHours = Math.max(0, totalHoursMonth - results.heures_economisees_mois);
                const beforeCost = Math.round(totalHoursMonth * 2200);
                const afterCost = Math.round(afterHours * 2200) + results.investissement_mois;

                document.getElementById('compBefore1').textContent = Math.round(totalHoursMonth) + 'h/mois';
                document.getElementById('compBefore2').textContent = formatXPF(beforeCost) + ' XPF';
                document.getElementById('compAfter1').textContent = Math.round(afterHours) + 'h/mois';
                document.getElementById('compAfter2').textContent = formatXPF(afterCost) + ' XPF';

                // ROI big number
                const roiEl = document.getElementById('roiBigNumber');
                animateValueEl(roiEl, 0, roiDisplayVal, 2200, roiPrefix, '%');

                // ROI highlight: red if negative, with contextual message
                const roiHighlight = document.getElementById('roiHighlight');
                const roiSubText = document.getElementById('roiSubText');
                if (roiIsNegative) {
                    roiHighlight.style.borderColor = 'rgba(239, 68, 68, 0.3)';
                    roiHighlight.style.background = 'rgba(239, 68, 68, 0.05)';
                    roiEl.style.color = 'var(--red)';
                    roiSubText.innerHTML = 'Votre volume actuel est en dessous du seuil de rentabilite.<br><span class="roi-negative-msg">Avec plus de taches automatisees ou un volume horaire plus eleve, le ROI devient positif. <strong>Contactez-nous pour une estimation sur mesure.</strong></span>';
                }

                // Update forfait text (only if ROI is positive  negative has its own message)
                if (!roiIsNegative) {
                    const subText = document.getElementById('roiSubText');
                    if (subText) {
                        subText.textContent = 'Estimation basee sur un forfait de ' + formatXPF(results.investissement_mois) + ' XPF/mois';
                    }
                }

            }, 200);
        }

        // ====== ANIMATED COUNTERS ======
        function animateValue(id, start, end, duration, prefix, suffix) {
            const el = document.getElementById(id);
            if (!el) return;
            animateValueEl(el, start, end, duration, prefix, suffix);
        }

        function animateValueEl(el, start, end, duration, prefix, suffix) {
            const startTime = performance.now();

            function update(now) {
                const elapsed = now - startTime;
                const progress = Math.min(elapsed / duration, 1);
                // Ease out cubic
                const eased = 1 - Math.pow(1 - progress, 3);
                const current = Math.round(start + (end - start) * eased);

                el.textContent = (prefix || '') + formatNumber(current) + (suffix || '');

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            requestAnimationFrame(update);
        }

        function formatNumber(n) {
            return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        }

        function formatXPF(n) {
            return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        }

        // ====== SUBMIT LEAD ======
        window.submitLead = async function() {
            const nom = document.getElementById('leadNom').value.trim();
            const email = document.getElementById('leadEmail').value.trim();
            const entreprise = document.getElementById('leadEntreprise').value.trim();
            const telephone = document.getElementById('leadTel').value.trim();

            // Validation
            let valid = true;
            if (!nom) {
                document.getElementById('leadNom').classList.add('error');
                valid = false;
            } else {
                document.getElementById('leadNom').classList.remove('error');
            }

            if (!email || !email.includes('@')) {
                document.getElementById('leadEmail').classList.add('error');
                valid = false;
            } else {
                document.getElementById('leadEmail').classList.remove('error');
            }

            if (!valid) return;

            const btn = document.getElementById('btnSubmit');
            btn.disabled = true;
            btn.textContent = 'Envoi en cours...';

            const payload = {
                nom: nom,
                email: email,
                entreprise: entreprise || null,
                telephone: telephone || null,
                secteur: answers.secteur,
                nb_employes: answers.nb_employes,
                taches: answers.taches,
                temps_taches: answers.temps_taches,
                outils: answers.outils,
                heures_economisees: results.heures_economisees_mois,
                economies_xpf: results.economies_mois,
                roi_pct: results.roi_pct
            };

            // Submit to Supabase
            try {
                await fetch('https://ogsimsfqwibcmotaeevb.supabase.co/rest/v1/roi_leads', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nc2ltc2Zxd2liY21vdGFlZXZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3ODM2MTEsImV4cCI6MjA1MjM1OTYxMX0.Ry7P2LUgKyBWIlpNcOMR-onVp_bfVdPUCHexMCO0VlM',
                        'Prefer': 'return=minimal'
                    },
                    body: JSON.stringify(payload)
                });
            } catch (e) {
                console.error('Supabase error:', e);
            }

            // Submit to Brevo
            try {
                await fetch('https://api.brevo.com/v3/contacts', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'api-key': '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'
                    },
                    body: JSON.stringify({
                        email: email,
                        attributes: {
                            PRENOM: nom.split(' ')[0],
                            NOM: nom,
                            ENTREPRISE: entreprise,
                            SMS: telephone,
                            ROI_HEURES: results.heures_economisees_mois,
                            ROI_ECONOMIES: results.economies_mois,
                            ROI_PCT: results.roi_pct,
                            SECTEUR: answers.secteur
                        },
                        listIds: [6],
                        updateEnabled: true
                    })
                });
            } catch (e) {
                console.error('Brevo error:', e);
            }

            // Show success
            document.getElementById('leadForm').style.display = 'none';
            document.getElementById('successMsg').classList.add('visible');
        };

        // ====== PARALLAX ORBS ======
        (function() {
            const wrappers = document.querySelectorAll('.orb-parallax');
            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        const scrollY = window.scrollY;
                        wrappers.forEach(w => {
                            const speed = parseFloat(w.dataset.speed) || 0.01;
                            w.style.transform = 'translate3d(0, ' + (scrollY * speed) + 'px, 0)';
                        });
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        })();

        // ====== REMOVE ERROR ON FOCUS ======
        document.querySelectorAll('.lead-form input').forEach(input => {
            input.addEventListener('focus', function() {
                this.classList.remove('error');
            });
        });

    })();
    </script>

</body>
</html>
